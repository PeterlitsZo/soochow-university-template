\section{排列组合}
排列数 $A_n^k$ 有：\[
    A_n^k = {n! \over (n-k)!}
\]

而组合数 $C_n^k = {n \choose k}$ 有：\[
    {n \choose k} = {n! \over k! (n-k)!}
\]

我们可以使用下列函数求出排列数和组合数（快速幂代码见章节 \ref{sec:快速幂}）：
\begin{Cpp}
ll fac[LEN],inv[LEN];

ll fpow(ll b,ll p);

void init(){
  fac[0]=1;
  for(int i=1;i<LEN;i++)
    fac[i]=fac[i-1]*i%MOD;
  inv[LEN-1]=fpow(fac[LEN-1],MOD-2);
  for(int i=LEN-2;i>=0;i--)
    inv[i]=inv[i+1]*(i+1)%MOD;
}

ll A(int N,int m){
  if(m>N||m<0)return 0;
  return fac[N]*inv[N-m]%MOD;
}

ll C(int N,int m){
  // 如果有 A 函数的话，直接：
  // return A(N,m)*inv[m]%MOD;
  if(m>N||m<0) return 0;
  return fac[N]*inv[m]%MOD*inv[N-m]%MOD;
}
\end{Cpp}



\subsection{捆绑法}

把一些元素捆绑在一起以视为一个独立的元素。

比如有 $5$ 个男生和 $3$ 个女生。女生都要在一起。问有多少种不同的排队情况。那么有
：$A_6^6 A_3^3$



\subsection{插板法}
\label{subsec:插板法} \label{subsec:插空法}

如果在 $m$ 个球中搞到 $n$ 个盒子中，盒子两两之间都是不同的，那么：
\begin{itemize}
    \item 如果不允许为空，那么解是 $m - 1 \choose n - 1$。这个解是因为 $m$ 个球
        ，不包含两端有 $m - 1$ 个空，然后选择 $n - 1$ 个隔板。隔出来了之后就是
        $n$ 个盒子了。
    \item 如果允许为空，那么解是 $m + n - 1 \choose n - 1$。这个解是因为它插入了
        虚拟球，一共有 $n$ 个盒子，那么我们在里面插入 $n$ 个虚拟球。选出来了之后
        指定第一个是虚拟球去掉即可。
\end{itemize}



\subsection{性质}
组合数学有着一些独有的性质：

选择状态取反：\[
    {n \choose k} = {n \choose n - k}
\]

定义推导出来的玩意：\[
    {n \choose k} = {n! \over k! (n - k)!} = {n \over k} {n - 1 \choose k - 1}
\]

加法原理，分为选自己和不选自己两种情况：\[
    {n \choose k} = {n - 1 \choose k - 1} {n - 1 \choose k}
\]

瞎鸡儿乱选，那么每一元素就是两种独立的状态，乘法原理有（章节 \ref{sec:二项式定%
理} 二项式定理中对应着 $a = b = 1$）：\[ \sum_{i} {n \choose i} = 2^n \]

只选奇数或者只选偶数：\[
    \sum_{i \bmod 2 = 0} {n \choose i} = 2^{n - 1}
\]

加加减减地选择，可以用二项式定理（见章节 \ref{sec:二项式定理}）来推：\[
    \sum^{n}_{i = 0} (-1)^i {n \choose i} = [n = 1]
\]

拆组合数：\[
    \sum_{i=0}^{k} {n \choose i} {k \choose k - i} = {n + k \choose k}, \qquad (n
    \ge k)
\] \[
    \sum_{i=0}^{n} {n \choose i}^2 = {2n \choose n}
\]

带权和的一个例子：\[
    \sum_{i=0}^{n} i{n \choose i} = n2^{n - 1}
\] \[
    \sum_{i=0}^{n} i^2{n \choose i} = n(n + 1)2^{n - 2}
\]

恒等式证明中较常用：\[
    \sum_{l=0}^{n} {l \choose k} = {n + 1 \choose k + 1}
\]

和斐波那契数有关的式子：\[
    \sum_{i = 0}^{n} {n - i \choose i} = F_{n + 1}
\]
